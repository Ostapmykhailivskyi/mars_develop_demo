(this["webpackJsonpmars-develop"]=this["webpackJsonpmars-develop"]||[]).push([[0],{58:function(e,t,a){a(89).config(),e.exports={apiKey:"zNvwtaqfl5ASaNfRDSVaDoi6aytQicnSPc0fDYuy"}},80:function(e,t,a){},81:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),o=(a(80),a(35)),i=(a(81),a(13)),l=a(4),u=[{name:"Curiosity",cameras:["FHAZ","RHAZ","MAST","CHEMCAM","MAHLI","MARDI","NAVCAM"]},{name:"Opportunity",cameras:["ENTRY","FHAZ","RHAZ","NAVCAM","PANCAM","MINITES"]},{name:"Spirit",cameras:["ENTRY","FHAZ","RHAZ","NAVCAM","PANCAM","MINITES"]}],d={rovers:u,availableSols:[],availableCameras:[],selectedSol:"",selectedRover:"",selectedCamera:"",solData:[]},p=Object(n.createContext)();function j(e,t){switch(t.type){case"selectRover":var a=u.find((function(e){return e.name===t.payload.name})).cameras,n=e.selectedCamera;return e.selectedCamera&&!a.includes(e.selectedCamera)&&(n=""),Object(i.a)(Object(i.a)({},e),{},{selectedRover:t.payload.name,selectedCamera:n,availableCameras:a,availableSols:[],selectedSol:"",photosData:t.payload.photosData});case"selectCamera":return Object(i.a)(Object(i.a)({},e),{},{selectedCamera:t.payload.camera,availableSols:t.payload.sols});case"selectSol":return Object(i.a)(Object(i.a)({},e),{},{selectedSol:t.payload.sol,solData:t.payload.solData});default:throw new Error("Unhandled action type: ".concat(t.type))}}function h(){var e=r.a.useContext(p);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}function b(e){var t=e.children,a=Object(n.useReducer)(j,d),r=Object(o.a)(a,2),c={state:r[0],dispatch:r[1]};return Object(l.jsx)(p.Provider,{value:c,children:t})}var f=a(127),m=a(139),v=a(144),O=a(141),x=function(e){return Object(l.jsxs)(f.a,{children:[Object(l.jsx)(v.a,{id:"demo-simple-select-label",children:e.placeholder}),Object(l.jsxs)(m.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:function(t){e.handleSelect(t.target.value)},className:"customDropdown",children:[0===e.items.length?Object(l.jsxs)(O.a,{disabled:!0,children:["Please select ",e.dependency," before"]}):null,e.items.map((function(e){return Object(l.jsx)(O.a,{value:e,children:e},e)}))]})]})},y=a(34),C=a.n(y),S=a(41),g=a(58),w=function(){var e=Object(S.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nasa.gov/mars-photos/api/v1/".concat(t,"api_key=").concat(g.apiKey)).then((function(e){return e.body})).then((function(e){var t=e.getReader();return new ReadableStream({start:function(e){!function a(){t.read().then((function(t){var n=t.done,r=t.value;n?e.close():(e.enqueue(r),a())}))}()}})})).then((function(e){return new Response(e,{headers:{"Content-Type":"text/html"}}).text()})).then((function(e){return JSON.parse(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=h(),t=e.dispatch,a=e.state;return Object(l.jsx)(x,{placeholder:"Rover",items:a.rovers.map((function(e){return e.name})),handleSelect:function(e){w("manifests/".concat(e,"?")).then((function(a){t({type:"selectRover",payload:{name:e,photosData:a.photo_manifest.photos}})}))}})},P=function(){var e=h(),t=e.dispatch,a=e.state;return Object(l.jsx)(x,{dependency:"rover",placeholder:"Camera",items:a.availableCameras,handleSelect:function(e){var n=[];a.photosData.forEach((function(t){t.cameras.includes(e)&&n.push(t)})),t({type:"selectCamera",payload:{camera:e,sols:n}})}})},R=a(60),N=a(136),D=a(134),E=a(27),M=a(61),k=a(137),I=a(143),T=a(140),H=a(135),L=function(e){var t=e.useStyles,a=e.handleSelect,n=e.renderGroup,r=e.ListboxComponent,c=t(),s=h().state;return Object(l.jsx)(T.a,{value:s.selectedSol,onChange:a,id:"virtualize-demo",classes:c,style:{width:100},disableListWrap:!0,ListboxComponent:r,renderGroup:n,options:s.availableSols.map((function(e){return e.sol.toString()})),renderInput:function(e){return Object(l.jsx)(I.a,Object(i.a)({label:"Sol"},e))},renderOption:function(e){return Object(l.jsx)(H.a,{noWrap:!0,children:e})}})},Z=function(e){var t=e.data,a=e.index,n=e.style;return r.a.cloneElement(t[a],{style:Object(i.a)(Object(i.a)({},n),{},{top:n.top+0})})},V=function(){var e=h(),t=e.state,a=e.dispatch,n=r.a.createContext({}),c=r.a.forwardRef((function(e,t){var a=r.a.useContext(n);return Object(l.jsx)("div",Object(i.a)(Object(i.a)({ref:t},e),a))})),s=r.a.forwardRef((function(e,t){var a=e.children,s=Object(R.a)(e,["children"]),o=r.a.Children.toArray(a),i=Object(E.a)(),u=Object(N.a)(i.breakpoints.up("sm"),{noSsr:!0}),d=o.length,p=u?36:48,j=function(e){return r.a.isValidElement(e)&&e.type===D.a?48:p},h=function(e){var t=r.a.useRef(null);return r.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(d);return Object(l.jsx)("div",{ref:t,children:Object(l.jsx)(n.Provider,{value:s,children:Object(l.jsx)(M.a,{itemData:o,height:(d>8?8*p:o.map(j).reduce((function(e,t){return e+t}),0))+0,width:"100%",ref:h,outerElementType:c,innerElementType:"ul",itemSize:function(e){return j(o[e])},overscanCount:5,itemCount:d,children:Z})})})})),o=Object(k.a)({listbox:{boxSizing:"border-box","& ul":{padding:0,margin:0}}}),u=function(){var e=Object(S.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("rovers/".concat(t.selectedRover,"/photos?sol=").concat(n.target.textContent,"&camera=").concat(t.selectedCamera,"&"));case 2:r=e.sent,a({type:"selectSol",payload:{sol:n.target.textContent,solData:r.photos}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(L,{handleSelect:u,useStyles:o,ListboxComponent:s,renderGroup:function(e){return[Object(l.jsx)(D.a,{component:"div",children:e.group},e.key),e.children]}})},z=function(e){var t=e.src,a=e.alt;return Object(l.jsx)("div",{className:"PhotoWrapper",children:Object(l.jsx)("img",{src:t,alt:a,width:"100%"})})},B=function(e){var t=e.photos;return t.length?Object(l.jsx)("div",{className:"PhotosList",children:t.map((function(e){return Object(l.jsx)(z,{alt:e.id,src:e.img_src},e.id)}))}):Object(l.jsx)("div",{className:"emptyListTitle",children:Object(l.jsx)("h1",{children:"Select Rover, Camera and Sol to browse photo from MARS"})})},F=a(138),G=function(e){var t=e.switchPage,a=e.currentPage,n=e.totalPages;return Object(l.jsxs)("div",{className:"pageTurnButtons",children:[Object(l.jsx)(F.a,{variant:"contained",color:"primary",onClick:function(){return t(-1)},disabled:1===a,children:"Back to previous page"}),Object(l.jsx)(F.a,{variant:"contained",color:"primary",onClick:function(){return t(1)},disabled:a===n,children:"Load more"})]})},J=function(e){var t=e.currentPosts,a=e.currentPage,n=e.switchPage,r=e.totalPages;return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("div",{className:"App-header",children:Object(l.jsx)("h1",{children:"Mars mission"})}),Object(l.jsxs)("div",{className:"Dropdowns",children:[Object(l.jsx)(A,{}),Object(l.jsx)(P,{}),Object(l.jsx)(V,{})]}),Object(l.jsx)(B,{photos:t}),Object(l.jsx)("div",{children:Object(l.jsx)(G,{currentPage:a,totalPages:r,switchPage:n})})]})};var W=function(){var e=h().state,t=Object(n.useState)(1),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(1),i=Object(o.a)(s,2),u=i[0],d=i[1],p=Object(n.useState)([]),j=Object(o.a)(p,2),b=j[0],f=j[1];return Object(n.useEffect)((function(){var t=25*r,a=t-25,n=e.solData.slice(a,t);f(n)}),[r]),Object(n.useEffect)((function(){if(e.solData.length){var t=e.solData.slice(0,25);d(Math.ceil(e.solData.length/25)),f(t)}}),[e.selectedSol]),Object(l.jsx)(J,{currentPosts:b,currentPage:r,totalPages:u,switchPage:function(e){c(r+e)}})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(b,{children:Object(l.jsx)(W,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.91bb3e00.chunk.js.map